<!DOCTYPE html>
<html lang="en">
<head>
  <form action="{% url 'home' %}" method="get">
    <button type="submit">Back to Main Menu</button>
</form>
  <meta charset="UTF-8">
  <title>Pokémon Page</title>
  <style>
    /* Some basic styling */
    body {
      font-family: Arial, sans-serif;
      background-color: #f0f0f0;
      margin: 0;
      padding: 20px;
    }
    .pokemon-card {
      display: none; /* Hide all Pokémon cards initially */
      background-color: #fff;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      padding: 20px;
      max-width: 400px;
      margin: 0 auto;
      margin-bottom: 20px;
    }
    h1 {
      text-align: center;
    }
    .pokemon-image {
      display: block;
      margin: 0 auto;
      width: 200px;
      height: 200px;
    }
  </style>
</head>
<body>

<select id="pokemonSelector" onchange="showPokemonCard()">
  <option value="none">Select a Pokémon</option>
  <!-- Dynamically generate options based on database -->
  {% for pokemon in mypokemon %}
    <option value="{{ pokemon.p_id }}">{{ pokemon.p_name }}</option>
  {% endfor %}
</select>

<!-- Dynamically generate Pokémon cards based on database -->
{% for pokemon in mypokemon %}
  <div class="pokemon-card" id="pokemonCard{{ pokemon.p_id }}">
    <h1>{{ pokemon.p_name }}</h1>
    <img class="pokemon-image" src="https://raw.githubusercontent.com/PokeAPI/sprites/ceff190a63a58c266a2d8bc10525f56a83ff3992/sprites/pokemon/other/showdown/{{ pokemon.p_id }}.gif" alt="{{ pokemon.p_name }}">
    <p>{{ pokemon.p_description }}</p>
    <p>Base Stats:</p>
    <ul>
      <li>HP: {{ pokemon.p_hp }}</li>
      <li>Attack: {{ pokemon.p_attack }}</li>
      <li>Defense: {{ pokemon.p_defense }}</li>
      <li>Special Attack: {{ pokemon.p_specialattack }}</li>
      <li>Special Defense: {{ pokemon.p_specialdefense }}</li>
      <li>Speed: {{ pokemon.p_speed }}</li>
      <li>Type 1: {{ pokemon.p_type1 }}</li>
      <li>Type 2: {{ pokemon.p_type2 }}</li>
      <li>Weight: {{ pokemon.p_weight }}</li>
      <li>Ability 1: {{ pokemon.p_ability1 }}</li>
      <li>Ability 2: {{ pokemon.p_ability2 }}</li>
      <li>Hidden Ability: {{ pokemon.p_hidden_ability }}</li>
      <li>Gender Ratio (M/F): {{ pokemon.p_gender_ratio_mf }}</li>
      <li>Capture Rate: {{ pokemon.p_capture_rate }}</li>
    </ul>
  </div>
{% endfor %}

<script>
  function showPokemonCard() {
    const selector = document.getElementById("pokemonSelector");
    const selectedPokemonId = selector.value;

    // Hide all Pokémon cards
    const allCards = document.querySelectorAll(".pokemon-card");
    allCards.forEach(card => {
      card.style.display = "none";
    });

    // Show the selected Pokémon card
    if (selectedPokemonId !== "none") {
      const selectedCard = document.getElementById(`pokemonCard${selectedPokemonId}`);
      if (selectedCard) {
        selectedCard.style.display = "block";
      }
    }
  }
</script>

</body>
</html>
